# Kindle Scribe TXT Cleaner

> 声明：本仓库里的代码和这份 README，系由大语言模型（ChatGPT-5.1-Thinking）生成。  

## 这是什么

这个工具的目标是先行对 Kindle Scribe 导出的中文手写稿的一些奇怪的格式进行预处理。比方说清除文本中的「页码标记、奇怪空格、看不见的字符」等，省去每次都要从头整理的功夫。

不过之后大概率还是得自己再二次处理。

目前仍是个很早期、很不成熟的 demo。基本是给（那个懒得写代码的）Zeee 自用的。

所有处理都在本地浏览器里完成，不会经过任何服务器。

## Demo

[Demo 在这里](https://reedo0910.github.io/Clean-Scribe-TXT/)

## 它会做什么

### 1. Kindle 式残留清理

- 把整行的「第 x 页」删掉  
- 合并因为分页产生的断句，把被硬拆开的句子接回去  
- 去掉看不见的零宽字符：  
  `\u00AD \u200B \u200C \u200D \uFEFF \u2060`  
- 去掉注音用的小撇号 `ˊ`（U+02CA）

### 2. 标点和空格整理

- 删除「不在英文单词或数字之间」的孤立英文句号，避免奇怪的小点  
- 半角逗号统一变成全角逗号，并顺手去掉前后的空格  
- 连续出现的全角逗号会被压缩成一个  
- 连续的中文句号会被压缩成一个  
- 去掉中文标点前多出来的空格  
- 删除下划线 `_`

### 3. 破折号和其他符号

- 一般情况下，把所有半角 `-` 转成中文破折号形式  
- 如果有连续三个及以上的 `---`，或者连续三个及以上的长横线，会先被特殊标记，最后原样恢复，不参与替换  
- 英文冒号 `:` 会被替换成中文冒号 `：`  
- 成对的英文双引号 `"` 会按顺序交替替换成中文引号 `“ ”`，用来写对话比较顺眼

### 4. 段落与空行

- 当一行以句号、问号、感叹号、省略号或中文引号结尾，下一行又是正文时，中间自动插入一行空行  
- 多个连续空行会被折叠成最多两行  
- 会清理掉文件开头和结尾多余的空行

## 关于「 LLM 生成」

这意味着：

- 全部代码都塞到了单一文件里
- 代码风格能跑就行，不够 Elegent
- 有些小角落的规则覆盖不到，可能会出现你不想要的替换效果  

如果你打算长期依赖这套规则，建议先简单读一下 `index.html` 里的脚本，看看每一步的替换是否符合你的写作习惯。

不满意的话可以直接修改 `index.html` 里那的 `cleanKindleText` 函数。注释应该相对清晰了，毕竟是 AI 生成的。

你也可以叫你自己的 AI 帮你从头写一份。

## 许可证

[MIT](https://github.com/Reedo0910/Clean-Scribe-TXT/blob/master/LICENSE)

------

All code and documentation in this repo were produced by an LLM, not by a human.

(=・ω・=)  ChatGPT-5.1
